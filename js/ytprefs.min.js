"use strict";!function(e,t){e._EPYT_=e._EPYT_||{ajaxurl:"/wp-admin/admin-ajax.php",security:"",gallery_scrolloffset:100,eppathtoscripts:"/wp-content/plugins/youtube-embed-plus/scripts/",eppath:"/wp-content/plugins/youtube-embed-plus/",epresponsiveselector:["iframe.__youtube_prefs_widget__"],epdovol:!0,evselector:'iframe.__youtube_prefs__[src], iframe[src*="youtube.com/embed/"], iframe[src*="youtube-nocookie.com/embed/"]',stopMobileBuffer:!0,ajax_compat:!1,usingdefault:!0,ytapi_load:"light",pause_others:!1,facade_mode:!1,not_live_on_channel:!1},e._EPYT_.touchmoved=!1,e._EPYT_.apiVideos=e._EPYT_.apiVideos||{},0===e.location.toString().indexOf("https://")&&(e._EPYT_.ajaxurl=e._EPYT_.ajaxurl.replace("http://","https://")),e._EPYT_.pageLoaded=!1,t(e).on("load._EPYT_",(function(){e._EPYT_.pageLoaded=!0})),document.querySelectorAll||(document.querySelectorAll=function(t){var a=document,o=a.documentElement.firstChild,r=a.createElement("STYLE");return o.appendChild(r),a.__qsaels=[],r.styleSheet.cssText=t+"{x:expression(document.__qsaels.push(this))}",e.scrollBy(0,0),a.__qsaels}),void 0===e._EPADashboard_&&(e._EPADashboard_={initStarted:!1,checkCount:0,onPlayerReady:function(a){try{if(void 0!==_EPYT_.epdovol&&_EPYT_.epdovol){var o=parseInt(a.target.getIframe().getAttribute("data-vol"));isNaN(o)||(0===o?a.target.mute():(a.target.isMuted()&&a.target.unMute(),a.target.setVolume(o)))}var r=parseInt(a.target.getIframe().getAttribute("data-epautoplay"));isNaN(r)||1!==r||a.target.playVideo()}catch(e){}try{var i=a.target.getIframe(),n=i.getAttribute("id");e._EPYT_.apiVideos[n]=a.target,e._EPYT_.not_live_on_channel&&0<a.target.getVideoUrl().indexOf("live_stream")&&e._EPADashboard_.doLiveFallback(i)}catch(e){}finally{t(a.target.getIframe()).css("opacity",1)}},onPlayerStateChange:function(a){var o=a.target.getIframe();if(e._EPYT_.pause_others&&a.data===e.YT.PlayerState.PLAYING&&e._EPADashboard_.pauseOthers(a.target),a.data===e.YT.PlayerState.PLAYING&&!0!==a.target.ponce&&-1===o.src.indexOf("autoplay=1")&&(a.target.ponce=!0),a.data===e.YT.PlayerState.ENDED&&"1"==t(o).data("relstop"))if("function"==typeof a.target.stopVideo)a.target.stopVideo();else{var r=t(o).clone(!0).off();r.attr("src",e._EPADashboard_.cleanSrc(r.attr("src").replace("autoplay=1","autoplay=0"))),t(o).replaceWith(r),e._EPADashboard_.setupevents(r.attr("id")),o=r.get(0)}(r=t(o).closest(".epyt-gallery")).length||(r=t("#"+t(o).data("epytgalleryid"))),r.length&&"1"==r.find(".epyt-pagebutton").first().data("autonext")&&a.data===e.YT.PlayerState.ENDED&&((a=r.find(".epyt-current-video")).length||(a=r.find(".epyt-gallery-thumb").first()),(a=a.find(" ~ .epyt-gallery-thumb").first()).length?a.trigger("click"):r.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().trigger("click"))},isMobile:function(){return/Mobi|Android/i.test(navigator.userAgent)},base64DecodeUnicode:function(e){return e=e.replace(/\s/g,""),decodeURIComponent(Array.prototype.map.call(atob(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},doLiveFallback:function(a){var o=t(a).closest(".wp-block-embed");if(o.length||(o=t(a).closest(".epyt-live-chat-wrapper")),o.length||(o=t(a).closest(".epyt-video-wrapper")),o.length&&(a=t("#epyt-live-fallback")).length){var r="";try{r=e._EPADashboard_.base64DecodeUnicode(a.get(0).innerHTML)}catch(e){}if(r){var i=o.parent();e._EPADashboard_.loadYTAPI(),o.replaceWith(r),e._EPADashboard_.apiInit(),e._EPADashboard_.pageReady(),setTimeout((function(){void 0!==t.fn.fitVidsEP&&i.fitVidsEP()}),1)}}},videoEqual:function(e,t){return!(!e.getIframe||!t.getIframe||e.getIframe().id!==t.getIframe().id)},pauseOthers:function(t){if(t)for(var a in e._EPYT_.apiVideos){var o=e._EPYT_.apiVideos[a];o&&"function"==typeof o.pauseVideo&&o!=t&&!_EPADashboard_.videoEqual(o,t)&&"function"==typeof o.getPlayerState&&0<=[YT.PlayerState.BUFFERING,e.YT.PlayerState.PLAYING].indexOf(o.getPlayerState())&&o.pauseVideo()}},justid:function(e){return/[\?&]v=([^&#]*)/.exec(e)[1]},setupevents:function(t){if(void 0!==e.YT&&null!==e.YT&&e.YT.loaded){var a=document.getElementById(t);if(!a.epytsetupdone)return e._EPADashboard_.log("Setting up YT API events: "+t),a.epytsetupdone=!0,a={events:{onReady:e._EPADashboard_.onPlayerReady,onStateChange:e._EPADashboard_.onPlayerStateChange},host:0<(a.src||"").indexOf("nocookie")?"https://www.youtube-nocookie.com":"https://www.youtube.com"},new e.YT.Player(t,a)}},apiInit:function(){if(void 0!==e.YT){e._EPADashboard_.initStarted=!0;for(var t=document.querySelectorAll(_EPYT_.evselector),a=0;a<t.length;a++)t[a].hasAttribute("id")||(t[a].id="_dytid_"+Math.round(8999*Math.random()+1e3)),e._EPADashboard_.setupevents(t[a].id)}},log:function(e){try{console.log(e)}catch(e){}},doubleCheck:function(){e._EPADashboard_.checkInterval=setInterval((function(){e._EPADashboard_.checkCount++,5<=e._EPADashboard_.checkCount||e._EPADashboard_.initStarted?clearInterval(e._EPADashboard_.checkInterval):(e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API init check"))}),1e3)},selectText:function(t){if(document.selection){var a=document.body.createTextRange();a.moveToElementText(t),a.select()}else if(e.getSelection){var o=e.getSelection();(a=document.createRange()).selectNode(t),o.removeAllRanges(),o.addRange(a)}},setVidSrc:function(t,a){t.is(".epyt-facade")?(t.attr("data-facadesrc",e._EPADashboard_.cleanSrc(a)),t.trigger("click")):(t.attr("src",e._EPADashboard_.cleanSrc(a)),t.get(0).epytsetupdone=!1,e._EPADashboard_.setupevents(t.attr("id")))},cleanSrc:function(e){return e.replace("enablejsapi=1?enablejsapi=1","enablejsapi=1")},loadYTAPI:function(){if(void 0===e.YT){if("never"!==e._EPYT_.ytapi_load&&("always"===e._EPYT_.ytapi_load||t('iframe[src*="youtube.com/embed/"], iframe[data-src*="youtube.com/embed/"], .__youtube_prefs__').length)){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api",a.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(a)}}else e.YT.loaded&&(e._EPYT_.pageLoaded?(e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API available")):t(e).on("load._EPYT_",(function(){e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API available 2")})))},resolveFacadeQuality:function(e,a){e.epytFacadeCount=void 0===e.epytFacadeCount?0:e.epytFacadeCount+1,(a||200>e.naturalHeight)&&(a=t(e).attr("src"))&&(t(e).attr("src",a.replace("maxresdefault","hqdefault")),t(e).off("load.epyt")),2<e.epytFacadeCount&&t(e).off("load.epyt")},pageReady:function(){e._EPYT_.not_live_on_channel&&"never"!==e._EPYT_.ytapi_load&&t(".epyt-live-channel").each((function(){var e=t(this);e.data("eypt-fallback")||(e.data("eypt-fallback",!0),e.css("opacity",0),setTimeout((function(){e.css("opacity",1)}),4e3))})),t(".epyt-gallery").each((function(){var a=t(this);if(!a.data("epytevents")||!t("body").hasClass("block-editor-page")){a.data("epytevents","1");var o=t(this).find("iframe, div.__youtube_prefs_gdpr__, div.epyt-facade").first(),r=o.data("src")||o.data("facadesrc")||o.attr("src");r||(r=o.data("ep-src"));var i=t(this).find(".epyt-gallery-list .epyt-gallery-thumb").first().data("videoid");void 0!==r?(r=r.replace(i,"GALLERYVIDEOID"),a.data("ep-gallerysrc",r)):o.hasClass("__youtube_prefs_gdpr__")&&a.data("ep-gallerysrc",""),a.on("click touchend",".epyt-gallery-list .epyt-gallery-thumb",(function(r){if(o=a.find("iframe, div.__youtube_prefs_gdpr__, div.epyt-facade").first(),!e._EPYT_.touchmoved&&!t(this).hasClass("epyt-current-video")){a.find(".epyt-gallery-list .epyt-gallery-thumb").removeClass("epyt-current-video"),t(this).addClass("epyt-current-video"),r=t(this).data("videoid"),a.data("currvid",r);var i=a.data("ep-gallerysrc").replace("GALLERYVIDEOID",r);"0"!==(r=a.find(".epyt-pagebutton").first().data("thumbplay"))&&0!==r&&(i=0<i.indexOf("autoplay")?i.replace("autoplay=0","autoplay=1"):i+"&autoplay=1",o.addClass("epyt-thumbplay")),r=Math.max(t("body").scrollTop(),t("html").scrollTop());var n=o.offset().top-parseInt(_EPYT_.gallery_scrolloffset);r>n?t("html, body").animate({scrollTop:n},500,(function(){e._EPADashboard_.setVidSrc(o,i)})):e._EPADashboard_.setVidSrc(o,i)}})).on("touchmove",(function(t){e._EPYT_.touchmoved=!0})).on("touchstart",(function(){e._EPYT_.touchmoved=!1})).on("keydown",".epyt-gallery-list .epyt-gallery-thumb, .epyt-pagebutton",(function(e){var a=e.which;13!==a&&32!==a||(e.preventDefault(),t(this).trigger("click"))})),a.on("mouseenter",".epyt-gallery-list .epyt-gallery-thumb",(function(){t(this).addClass("hover")})),a.on("mouseleave",".epyt-gallery-list .epyt-gallery-thumb",(function(){t(this).removeClass("hover")})),a.on("click touchend",".epyt-pagebutton",(function(o){if(!e._EPYT_.touchmoved&&!a.find(".epyt-gallery-list").hasClass("epyt-loading")){a.find(".epyt-gallery-list").addClass("epyt-loading");var r=void 0!==o.originalEvent;o={action:"my_embedplus_gallery_page",security:_EPYT_.security,options:{playlistId:t(this).data("playlistid"),pageToken:t(this).data("pagetoken"),pageSize:t(this).data("pagesize"),columns:t(this).data("epcolumns"),showTitle:t(this).data("showtitle"),showPaging:t(this).data("showpaging"),autonext:t(this).data("autonext"),thumbplay:t(this).data("thumbplay")}};var i=t(this).hasClass("epyt-next"),n=parseInt(a.data("currpage")+"");a.data("currpage",n+(i?1:-1)),t.post(_EPYT_.ajaxurl,o,(function(e){a.find(".epyt-gallery-list").html(e),a.find(".epyt-current").each((function(){t(this).text(a.data("currpage"))})),a.find('.epyt-gallery-thumb[data-videoid="'+a.data("currvid")+'"]').addClass("epyt-current-video"),"1"!=a.find(".epyt-pagebutton").first().data("autonext")||r||a.find(".epyt-gallery-thumb").first().trigger("click")})).fail((function(){alert("Sorry, there was an error loading the next page.")})).always((function(){if(a.find(".epyt-gallery-list").removeClass("epyt-loading"),"1"!=a.find(".epyt-pagebutton").first().data("autonext")){var e=Math.max(t("body").scrollTop(),t("html").scrollTop()),o=a.find(".epyt-gallery-list").offset().top-parseInt(_EPYT_.gallery_scrolloffset);e>o&&t("html, body").animate({scrollTop:o},500)}}))}})).on("touchmove",(function(t){e._EPYT_.touchmoved=!0})).on("touchstart",(function(){e._EPYT_.touchmoved=!1}))}})),t(".__youtube_prefs_gdpr__.epyt-is-override").each((function(){t(this).parent(".wp-block-embed__wrapper").addClass("epyt-is-override__wrapper")})),t("button.__youtube_prefs_gdpr__").on("click",(function(a){a.preventDefault(),t.cookie&&(t.cookie("ytprefs_gdpr_consent","1",{expires:30,path:"/"}),e.top.location.reload())})),t("img.epyt-facade-poster").on("load.epyt",(function(){e._EPADashboard_.resolveFacadeQuality(this,!1)})).on("error",(function(){e._EPADashboard_.resolveFacadeQuality(this,!0)})).each((function(){this.complete&&t(this).trigger("load")})),t(".epyt-facade-play").each((function(){t(this).find("svg").length||t(this).append('<svg data-no-lazy="1" height="100%" version="1.1" viewBox="0 0 68 48" width="100%"><path class="ytp-large-play-button-bg" d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z" fill="#f00"></path><path d="M 45,24 27,14 27,34" fill="#fff"></path></svg>')})),t(".epyt-facade-poster[data-facadeoembed]").each((function(){var e=t(this);if(!e.data("facadeoembedcomplete")){e.data("facadeoembedcomplete","1");var a="https://www.youtube.com/"+e.data("facadeoembed");t.get("https://youtube.com/oembed",{url:a,format:"json"},(function(t){e.attr("src",t.thumbnail_url.replace("hqdefault","maxresdefault"))}),"json").fail((function(){})).always((function(){}))}})),t(document).on("click",".epyt-facade",(function(a){var o=(a=t(this)).attr("data-facadesrc");o=e._EPADashboard_.cleanSrc(o);for(var r=document.createElement("iframe"),i=0;i<this.attributes.length;i++){var n=this.attributes[i];(0<=["allow","class","height","id","width"].indexOf(n.name.toLowerCase())||0==n.name.toLowerCase().indexOf("data-"))&&t(r).attr(n.name,n.value)}t(r).removeClass("epyt-facade"),t(r).attr("allowfullscreen","").attr("title",a.find("img").attr("alt")).attr("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),e._EPADashboard_.loadYTAPI(),a.replaceWith(r),t(r).attr("src",o),e._EPADashboard_.setupevents(t(r).attr("id")),setTimeout((function(){void 0!==t.fn.fitVidsEP&&t(t(r).parent()).fitVidsEP()}),1)}))}}),e.onYouTubeIframeAPIReady=void 0!==e.onYouTubeIframeAPIReady?e.onYouTubeIframeAPIReady:function(){e._EPYT_.pageLoaded?(e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API ready")):t(e).on("load._EPYT_",(function(){e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API ready 2")}))},(!e._EPYT_.facade_mode||e._EPYT_.not_live_on_channel&&t('iframe[src*="youtube.com/embed/live_stream"], iframe[data-src*="youtube.com/embed/live_stream"]').length)&&e._EPADashboard_.loadYTAPI(),e._EPYT_.pageLoaded?e._EPADashboard_.doubleCheck():t(e).on("load._EPYT_",(function(){e._EPADashboard_.doubleCheck()})),t(document).ready((function(){e._EPADashboard_.pageReady(),(!e._EPYT_.facade_mode||e._EPYT_.not_live_on_channel&&t('iframe[src*="youtube.com/embed/live_stream"], iframe[data-src*="youtube.com/embed/live_stream"]').length)&&e._EPADashboard_.loadYTAPI(),e._EPYT_.ajax_compat&&t(e).on("load._EPYT_",(function(){t(document).ajaxSuccess((function(t,a,o){a&&a.responseText&&(-1!==a.responseText.indexOf("<iframe ")||-1!==a.responseText.indexOf("enablejsapi"))&&(e._EPADashboard_.loadYTAPI(),e._EPADashboard_.apiInit(),e._EPADashboard_.log("YT API AJAX"),e._EPADashboard_.pageReady())}))}))}))}(window,jQuery);